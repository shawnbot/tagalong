!function(t){function e(n){if(r[n])return r[n].exports;var i=r[n]={exports:{},id:n,loaded:!1};return t[n].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var r={};return e.m=t,e.c=r,e.p="",e(0)}([function(t,e,r){r(!function(){var t=new Error('Cannot find module "document-register-element"');throw t.code="MODULE_NOT_FOUND",t}());var n=r(1),i=r(6);window.tagalong={Template:n,createRenderer:i.create,render:i.render}},function(t,e,r){var n=r(2),i=r(3).evaluate,o=r(6).create,a="[[t-render]]",u="data",s=document.registerElement("t-template",{prototype:Object.create(HTMLElement.prototype,{attachedCallback:{value:function(){this.update()}},attributeChangedCallback:{value:function(t,e,r){switch(t){case u:this.update();break;default:return}}},update:{value:function(){if(console.log("updating..."),this.hasAttribute(u)){var t=this.getAttribute(u),e=i(t);console.log("setting data: (",t,") ->",e),this.data=e}}},render:{value:function(t){arguments.length||(t=this.data);var e=this[a];return e||(e=this[a]=o(this)),e(t),t}},renderTo:{value:function(t,e){arguments.length<2&&(e=this.data);var r=this[a];return r||(r=this[a]=o(this)),r(t,e),e}},invalidate:{value:function(){this[a]=null}},data:n(function(t){return t},function(t,e){return this.render(t)},{})})});Object.defineProperty(s,"observedAttributes",{get:function(){return[u]}}),t.exports=s},function(t,e){t.exports=function(t,e,r){var n="[[t-"+Date.now()+"]]";return{enumerable:!1,get:function(){var e=n in this?this[n]:this[n]=r;return t?t.call(this,e):e},set:function(t){var r=this[n];return t!==r?this[n]=e.call(this,t,r):void 0}}}},function(t,e,r){function n(t){return t}var i=r(4),o=r(5),a=function(t,e){var r=u(t);return r.call(this,e)},u=function(t){if("string"!=typeof t&&(t=String(t)),!t.trim())return o(void 0);if(i.is(t))return i.parse(t);var e="d";return t.match(/^\s*\.\s*$/)?n:(t.match(/^\s*\.\w/)&&(t=e+t),new Function(e,["try { ","  with (this) {","    with (",e,") {","      return (",t,");","    } ","  } ","} catch (error) { }"].join("\n")))};t.exports={evaluate:a,evaluator:u}},function(t,e){var r=/^\s*\(?(\s*\w+\s*(,\s*\w+\s*)*)?\)?\s*=>\s*({([^}]+)}|(.+))$/,n=function(t){return String(t).match(r)},i=function(t){var e=t.match(r);if(!e)throw new Error('invalid arrow expression: "'+t+'"');var n=e[1],i=(e[4]||e[5]).trim()||"undefined";return new Function(n,["with (this) {"," return ",i,"; ","}"].join(""))};t.exports={is:n,parse:i}},function(t,e){t.exports=function(t){return function(){return t}}},function(t,e,r){var n=r(3),i=r(7),o=r(8),a=r(10),u=r(!function(){var t=new Error('Cannot find module "morphdom"');throw t.code="MODULE_NOT_FOUND",t}()),s=r(12).T,c="t-id",f=r(13),l=r(14),p=r(9),h=r(11),v=r(15),d="[[t-events]]",m=0,g={},y=function(t){return o.stringify(i.compile(t.nodeValue))},b=function(t){var e=void 0;for(var r in t){var n=t[r];0===r.indexOf("on")&&"function"==typeof n&&(e||(e={}),e[r.substr(2)]=n,delete t[r])}return e},w=function(t,e){return function(r,n){var i=t.apply(this,arguments);if(i){var o=++m;i.setAttribute(c,o);var a=this,u=function(t){e[t.type].call(a,r,t)},s={};for(var f in e)s[f]=u;g[o]=s}return i}},x=function(t){if(t.hasAttribute(s.SKIP))return void 0;var e=h.getPrefixedName(t),r=f.getAttributeMap(t),i=b(r),u=t.hasAttribute(s.IF)?n.evaluator(t.getAttribute(s.IF)):void 0;if(t.hasAttribute(s.ELSE)){if(u)throw new Error("element has both t-if and t-else attributes");var c=l.getPreviousSibling(t,"["+s.IF+"]");if(!c)throw new Error("element with t-else has no matching t-if sibling");u=o.not(n.evaluator(c.getAttribute(s.IF)))}var d;if(t.hasAttribute(s.TEXT))d=o.stringify(p.compileExpression(t.getAttribute(s.TEXT)));else{var m=[].map.call(t.childNodes,O);d=function(t){return m.map(function(e,r){return"function"==typeof e?e.call(this,t):e},this)}}var g=function(t){if(u&&!u.call(this,t))return void 0;var n=f.interpolateAttributes.call(this,r,t),i=d.call(this,t);return a(e,n,i)};i&&(g=w(g,i));var y=t.getAttribute(s.EACH),x=t.getAttribute(s.FOREACH),A=t.getAttribute(s.WITH),E=t.getAttribute(s.AS);return y?g=v.renderEach(n.evaluator(y),g,E):x?d=v.renderEach(n.evaluator(x),d,E):A?g=v.renderWith(n.evaluator(A),g,E):E&&(g=v.symbolSetter(E,g)),g},A=function(t,e){if("string"==typeof t){var r=t;if(t=document.querySelector(t),!t)throw new Error('no element found with selector: "'+r+'"')}var n=O(t);return function(r,i,o){arguments.length<2&&(i=r),(!r&&i||r===i)&&(r=t),m=0,g={};var a=n.call(e,i),s=u(t,a,o);return E(s),s}},E=function(t){var e=[].slice.call(t.querySelectorAll("["+c+"]"));t.hasAttribute(c)&&e.unshift(t),e.forEach(function(t){var e,r=t[d];if(r){for(e in r)t.removeEventListener(e,r[e],!0),delete r[e];delete t[d]}var n=t.getAttribute(c);if(r=g[n]){for(e in r)t.addEventListener(e,r[e],!0);t[d]=r}t.removeAttribute(c)})},T=function(t,e,r){var n=A(t,r);return e&&n(t,e),n},O=function(t){switch(t.nodeType){case 1:return x(t);case 3:return y(t);default:throw new Error("no renderer for node type: "+t.nodeType)}};t.exports.render=T,t.exports.createRenderer=A,t.exports.compile=O},function(t,e,r){var n=r(3).evaluate,i=r(5),o=/{{\s*([^}]+)\s*}}/g,a=function(t){return new RegExp(o).test(t)},u=function(t){if("string"!=typeof t)throw new Error("interpolate.compile() expected a string;got "+typeof t);return a(t)?function(e){var r=this;return t.replace(o,function(t,i){return n.call(r,i,e)})}:i(t)},s=function(t,e){return u(t).call(this,e)};t.exports=s,t.exports.isTemplate=a,t.exports.compile=u},function(t,e,r){var n=r(9).defined;t.exports.not=function(t){return function(){return!t.apply(this,arguments)}},t.exports.stringify=function(t){return function(){var e=t.apply(this,arguments);return n(e)?String(e):""}}},function(t,e,r){var n=r(3),i=r(7);t.exports.defined=function(t){return null!==t&&void 0!==t},t.exports.compileExpression=function(t){return i.isTemplate(t)?i.compile(t):n.evaluator(t)}},function(t,e,r){var n=r(11);t.exports=function(t,e,r){var o;Array.isArray(t)?o=document.createDocumentFragment():(t=n.qualify(t),o=t.namespaceURI?document.createElementNS(t.namespaceURI,t.localName):document.createElement(t.localName)),Array.isArray(e)||"string"==typeof e?r=e:"object"==typeof e&&i(o,e);var a=function(t){Array.isArray(t)?t.forEach(a):"object"==typeof t?o.appendChild(t):"string"==typeof t&&o.appendChild(document.createTextNode(t))};return("object"==typeof r||"string"==typeof r)&&a(r),o};var i=function(t,e){for(var r in e)if(e.hasOwnProperty(r)){var i=e[r];if(null!==i&&void 0!==i&&"function"!=typeof i){if("object"==typeof i)switch(r){case"class":i=u(i);break;case"style":i=o(i);break;default:console.warn("unrecognized object prop:",r,i);continue}var a=n.qualify(r);a.namespaceURI?t.setAttributeNS(a.namespaceURI,a.name,i):t.setAttribute(a.localName,i)}}},o=function(t){return Array.isArray(t)?t.join("; "):Object.keys(t).map(function(e){return[a(e),": ",t[e],";"].join("")}).join(" ")},a=function(t){return t.replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()})},u=function(t){return Array.isArray(t)?t.join(" "):Object.keys(t).filter(function(e){return!!t[e]}).join(" ")}},function(t,e){var r={svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/TR/xlink/",xmlns:"http://www.w3.org/2000/xmlns/"},n={};Object.keys(r).forEach(function(t){n[r[t]]=t});var i=function(t){var e,n=t,i=t.indexOf(":");return i>-1&&(e=t.substr(0,i),n=t.substr(i+1)),{name:t,localName:n,prefix:e,namespaceURI:r[e]}},o=function(t){var e=t.nodeName.toLowerCase(),r=t.prefix;return!r&&t.namespaceURI&&(r=n[t.namespaceURI]),r?r+":"+e:e};t.exports={getPrefixedName:o,prefixToURI:r,uriToPrefix:n,qualify:i}},function(t,e){var r="t-",n={PREFIX:r};n.AS=r+"as",n.EACH=r+"each",n.ELSE=r+"else",n.FOREACH=r+"foreach",n.IF=r+"if",n.SKIP=r+"skip",n.TEXT=r+"text",n.WITH=r+"with",t.exports.T=n,t.exports.CONTROL_ATTRS=["as","each","else","foreach","if","skip","text","with"]},function(t,e,r){var n=r(12),i=n.T.PREFIX,o=n.CONTROL_ATTRS,a=r(11),u=r(9),s=u.defined;t.exports.getAttributeMap=function(t){for(var e={},r=t.attributes,n=0;n<r.length;n++){var s=r[n],c=a.qualify(s.name),f=c.localName,l=s.value;if(0===f.indexOf(i)){if(f=f.substr(i.length),o.indexOf(f)>-1)continue;l=u.compileExpression(l)}var p=c.prefix?c.prefix+":"+f:f;e[p]=l}return e},t.exports.interpolateAttributes=function(t,e){var r={};for(var n in t)if(t.hasOwnProperty(n)){var i=t[n];"function"==typeof i&&0!==n.indexOf("on")&&(i=i.call(this,e,n)),s(i)&&(r[n]=i)}return r}},function(t,e){t.exports.getPreviousSibling=function(t,e){for(;(t=t.previousSibling)&&t;)if(1===t.nodeType&&t.matches(e))return t;throw new Error("no previous sibling found matching: "+e)}},function(t,e){var r=function(t,e,r){return function(n){var o=t.call(this,n);return i.call(this,o,e,r)}},n=function(t,e,r){return e=o(r,e),function(r){return r=t.call(this,r),e.call(this,r)}},i=function(t,e,r){var n=r?o(r,e):e,i=[],a="$i",u=function(t,e){this[a]=e,i.push(n.call(this,t)),delete this[a]};if("object"==typeof t)if(Array.isArray(t))t.forEach(u,this);else{var s=0;for(var c in t)t.hasOwnProperty(c)&&u.call(this,{key:c,value:t[c]},s++)}else"string"==typeof t&&t.split("").forEach(u,this);return i},o=function(t,e){return function(r){var n=a(this,t,r),i=e.call(this,r);return a(this,t,n),i}},a=function(t,e,r){var n=t[e];return void 0===r?delete t[e]:t[e]=r,n};t.exports={renderWith:n,renderEach:r,symbolSetter:o}}]);
//# sourceMappingURL=tagalong.js.map